{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020-01-15-making_simple_django_login_form/","result":{"data":{"site":{"siteMetadata":{"title":"Yoonjae Park's Blog"}},"markdownRemark":{"id":"e2bceb20-030f-5b05-ae14-c30b3537d12a","excerpt":"Django를 이용해서 로그인/로그아웃 뷰를 만들다가, 이미 만들어져 있는 뷰를 활용할 수는 없을까 하던차에 원래 만들어져 있던 것들을 재활용해보기로 하였다.\n의 뷰를 상속받아 활용하였다. Sidebar에서 지금 어떠한 위치에 있는지 알려주는 context…","html":"<p>Django를 이용해서 로그인/로그아웃 뷰를 만들다가, 이미 만들어져 있는 뷰를 활용할 수는 없을까 하던차에 원래 만들어져 있던 것들을 재활용해보기로 하였다.\n<code class=\"language-text\">django.contrib.auth</code>의 뷰를 상속받아 활용하였다. Sidebar에서 지금 어떠한 위치에 있는지 알려주는 context를 넣고 싶어서\nget<em>context</em>data 만을 overriding 하였고, logout시에는 index 페이지로 돌아가게 만들고 위에 logout이 제대로 되었음을 나타내는 문구를 주기 위해서\n<code class=\"language-text\">&#39;logged_out&#39;</code>을 <code class=\"language-text\">True</code>로 줘서 넘겼다. </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>contrib<span class=\"token punctuation\">.</span>auth <span class=\"token keyword\">import</span> views <span class=\"token keyword\">as</span> auth_views\n\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span> <span class=\"token keyword\">import</span> views\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">BookLoginView</span><span class=\"token punctuation\">(</span>auth_views<span class=\"token punctuation\">.</span>LoginView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_context_data</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        context <span class=\"token operator\">=</span> <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>get_context_data<span class=\"token punctuation\">(</span><span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span>\n\n        context<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            <span class=\"token operator\">**</span>views<span class=\"token punctuation\">.</span>get_render_dict<span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> context\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">BookLogoutView</span><span class=\"token punctuation\">(</span>auth_views<span class=\"token punctuation\">.</span>LogoutView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    template_name <span class=\"token operator\">=</span> <span class=\"token string\">'book/index.html'</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_context_data</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        context <span class=\"token operator\">=</span> <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>get_context_data<span class=\"token punctuation\">(</span><span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span>\n\n        context<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'logged_out'</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>\n            <span class=\"token operator\">**</span>views<span class=\"token punctuation\">.</span>get_render_dict<span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> context</code></pre></div>\n<p>Template 에서는 단순한 로그인 폼을 보여주었다. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{% raw %}\n{% extends &#39;book/base/base.html&#39; %}\n\n{% block body %}\n    &lt;h2&gt;로그인&lt;/h2&gt;\n    &lt;form method=&quot;post&quot; action=&quot;&quot;&gt;\n        {% csrf_token %}\n        {{ form.as_p }}\n        &lt;input type=&quot;submit&quot; value=&quot;로그인&quot;/&gt;\n    &lt;/form&gt;\n{% endblock %}\n{% endraw %}</code></pre></div>\n<p>이 파일은 기본적으로 ‘registration/login.html’로 위치시키면 되고, default value를 쓰기 싫다면 <code class=\"language-text\">BookLoginView</code>의 <code class=\"language-text\">template_name</code>을 overriding 해주면 된다.</p>","fields":{"slug":"/2020-01-15-making_simple_django_login_form/"},"frontmatter":{"title":"Making Simple Django Login Form","date":"January 15, 2020","description":null}},"previous":{"fields":{"slug":"/2020-01-12-setting-squid-proxy/"},"frontmatter":{"title":"Setting Squid Proxy"}},"next":{"fields":{"slug":"/2020-01-24-tqdm_with_multiprocess/"},"frontmatter":{"title":"Using TQDM with Multiprocess"}}},"pageContext":{"id":"e2bceb20-030f-5b05-ae14-c30b3537d12a","previousPostId":"f41fbdfe-ffc1-5a2b-aa5c-9cf753b496dc","nextPostId":"75d5c8fc-0205-577a-9be7-6a34d382c43e"}},"staticQueryHashes":["3000541721","3667728435"]}