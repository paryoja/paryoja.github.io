{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020-01-24-tqdm_with_multiprocess/","result":{"data":{"site":{"siteMetadata":{"title":"Yoonjae Park's Blog"}},"markdownRemark":{"id":"75d5c8fc-0205-577a-9be7-6a34d382c43e","excerpt":"Progress bar를 표시하는 라이브러리인 TQDM을 쓸 때,\n작업들이 오래 걸려서 multiprocess를 같이 사용하는 경우 다음과 같이 사용 가능하다. \n출처: https://stackoverflow.com/","html":"<p>Progress bar를 표시하는 라이브러리인 TQDM을 쓸 때,\n작업들이 오래 걸려서 multiprocess를 같이 사용하는 경우 다음과 같이 사용 가능하다.\n출처: <a href=\"https://stackoverflow.com/questions/41920124/multiprocessing-use-tqdm-to-display-a-progress-bar\">https://stackoverflow.com/</a></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> multiprocessing <span class=\"token keyword\">import</span> Pool\n<span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">import</span> tqdm\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">_foo</span><span class=\"token punctuation\">(</span>my_number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n   square <span class=\"token operator\">=</span> my_number <span class=\"token operator\">*</span> my_number\n   time<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">return</span> square \n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">with</span> Pool<span class=\"token punctuation\">(</span>processes<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> p<span class=\"token punctuation\">:</span>\n        max_ <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\n        <span class=\"token keyword\">with</span> tqdm<span class=\"token punctuation\">.</span>tqdm<span class=\"token punctuation\">(</span>total<span class=\"token operator\">=</span>max_<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> pbar<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> _ <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">.</span>imap_unordered<span class=\"token punctuation\">(</span>_foo<span class=\"token punctuation\">,</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> max_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                pbar<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>","fields":{"slug":"/2020-01-24-tqdm_with_multiprocess/"},"frontmatter":{"title":"Using TQDM with Multiprocess","date":"January 24, 2020","description":null}},"previous":{"fields":{"slug":"/2020-01-15-making_simple_django_login_form/"},"frontmatter":{"title":"Making Simple Django Login Form"}},"next":{"fields":{"slug":"/2020-02-02-Towards-a-Human-like-Open-Domain-Chatbot/"},"frontmatter":{"title":"Towards a Human-like Open-Domain Chatbot"}}},"pageContext":{"id":"75d5c8fc-0205-577a-9be7-6a34d382c43e","previousPostId":"e2bceb20-030f-5b05-ae14-c30b3537d12a","nextPostId":"09d87366-4511-56d9-8305-e3f4ec7fe4d4"}},"staticQueryHashes":["3000541721","3667728435"]}